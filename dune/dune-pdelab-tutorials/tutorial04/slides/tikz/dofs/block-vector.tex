\begin{tikzpicture}

\matrix{
   \node[minimum height=2em] {\multiindex}; & \node () {}; & \node{flat index}; \\
   \node{$(i,j) = (5,1)$}; & \node () {}; & \node{$k = 16$}; \\
   \node {}; & \node[minimum height=1em]{}; \\
   \node {}; & \node[minimum width=4em] (vectorpos) {}; & \node {}; \\
   \node {}; & \node[minimum height=2em]{}; \\
   \node{$i = 5$}; & \node (blockpos) {}; & \node{$i = k / 3$}; \\
   \node {}; & \node[minimum height=1em]{}; \\
   \node{$j = 1$}; & \node (entrypos) {}; & \node{$j = k \bmod 3$}; \\
};

\node (vector) at (vectorpos) {
\begin{tikzpicture}
\filldraw[niceblue,fill=niceblue!20] (-0.15,-0.1) rectangle ++(11*0.3*3.5+0.15,0.5);

\foreach \i in {0,1,2,3,4,5,6,7,8,9,10}
{
  \filldraw[draw=niceblue,fill=niceblue!30] (0.3*3.5*\i,0) rectangle ++ (0.3*3,0.3);
  \foreach \j in {1,2}
  {
    \draw[niceblue] (0.3*\j + 0.3*3.5*\i,0) -- ++(0,0.3);
  }
}
\end{tikzpicture} };

\node (block) at (blockpos) {
\begin{tikzpicture}
  \filldraw[draw=niceblue,fill=niceblue!30] (0,0) rectangle ++ (0.3*3,0.3);
  \foreach \j in {1,2}
  {
    \draw[niceblue] (0.3*\j,0) -- ++(0,0.3);
  }
\end{tikzpicture} };


\node (entry) at (entrypos) {
\begin{tikzpicture}
  \path (0,0) rectangle ++ (0.3*3,0.3);
  \filldraw[draw=niceblue,fill=niceblue!30] (0.3*1,0) rectangle ++ (0.3,0.3);
\end{tikzpicture} };

\path[->] (vector) edge (block);
\path[->] (block) edge (entry);

\end{tikzpicture}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../diss-main"
%%% End:
